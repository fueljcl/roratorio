# 作業の概要

ラグナロクオンラインの装備アイテムの中間データを作成する作業です。
中間データは所定のフォーマットに沿ったyamlファイルにする必要があります。

# 入力される情報

ラグナロクオンラインの公式データからコピーしてきた文字列が与えられます。
//で始まる行が装備アイテム名を示しています。
装備アイテムの能力は様々なバリエーションがあります。
能力の説明文は長文のため途中で改行されるケースがほとんどです。注意して能力説明文の区切りを読み取ってください。
以下はその一例です。

// エンペリウムアーマー
[[シャドウ] エンペリウムアーマー]の
精錬値が1上がる度に追加で
  MaxHP + 200
―――――――――――――
[[シャドウ] エンペリウムアーマー]の
精錬値が7以上の時、追加で
  MaxHP + 500
[[シャドウ] エンペリウムアーマー]の
精錬値が8以上の時、追加で
  MaxHP + 500
[[シャドウ] エンペリウムアーマー]の
精錬値が9以上の時、追加で
  MaxHP + 1000
[[シャドウ] エンペリウムアーマー]の
精錬値が10の時、追加で
  MaxHP + 1000
―――――――――――――
系列 : シャドウ
位置 : 鎧
属性 : - スロット : 0
Def : 0 Mdef : 0
精錬 : 可 破損 : しない
重量 : 0
要求レベル : 200
装備 : 4次職 拡張4次職

# 期待される成果物

まず初めに、成果物となるアイテム.yamlの凡例を示します。

item_list:
  - name: input_here
    yomi: input_here
    type: input_here
    slot: input_here
    weapon_lv: input_here
    atk_or_def: input_here
    weight: input_here
    required_lv: input_here
    required_job: input_here
    capabilities: #
      - name: input_here
        value: input_here
        skill: input_here
        skill_lv: input_here
        per_lv: input_here
        per_refine: input_here
        at_lv: input_here
        at_refine: input_here
        per_status_10: input_here
        at_status_100: input_here
        at_status_110: input_here
        at_status_130: input_here
        at_sp_status_100: input_here
        at_transcendence: input_here
    set_list: #
      - set: #
        entity_list: #
          - card_name: input_here
        capabilities: #
          - name: input_here
            value: input_here

次に、先ほどの入力情報の例をyamlに書き起こした場合は以下のようになります。
この比較からわかるように、凡例の項目をすべて入力する必要はありません。

item_list:
  - name: エンペリウムアーマー
    yomi: エンヘリウムアーマー
    type: シャドウアーマー
    slot: 0
    weapon_lv: 0
    atk_or_def: 0
    weight: 0
    required_lv: 200
    required_job: 4次職 拡張4次職
    capabilities: #
      - name: 壊れない
        value: 1
      - name: MAXHP加算
        value: 200
        per_refine: 1
      - name: MAXHP加算
        value: 500
        at_refine: 7
      - name: MAXHP加算
        value: 500
        at_refine: 8
      - name: MAXHP加算
        value: 1000
        at_refine: 9
      - name: MAXHP加算
        value: 1000
        at_refine: 10

詳細な記述ルールは以下の通りです。

item_listをルートノードとするyamlファイルに書き起こしてください。
アイテム装備には様々な種類がありますので子ノードのtype要素で装備部位を示してください。
type要素に指定出来る値は「装備部位コード.yaml」に記述されているものだけに限られます。

子ノードの必須要素はname、yomi、type、slot、weapon_lv、atk_or_def、weight、required_lv、required_jobです。
さらに必要に応じてcapabilitiesとset_listを記述することができます。

capabilitiesはその装備アイテムが単体で発揮出来る能力を記述するためのノードです。
その子ノードには必須要素としてname、valueが必要です。
ここでnameに指定出来る値は「発動能力コード.yaml」に記述されているものだけに限られます。
入力された装備アイテムの説明文と照らし合わせて、最適と思われる能力名を記述してください。
能力には発動条件が設定されている場合があります。
先ほどの凡例でper_lvからat_transcendenceまでが条件を示すための要素です。
装備アイテムの説明文をよく読んで、最適な条件を記述してください。

set_listはセット効果を記述するためのノードです。
必須要素はentity_listとcapabilitiesです。
このうちcapabilitiesの書き方は既に説明した通りなので省略します。
entity_listには複数のcard_nameノードを持たせることができます。
説明文では「・・・と共に装備時」または「・・・のいずれかと共に装備時」という文言でセット対象が指定されているので、それをcard_nameに記述してください。
前者はand条件で、後者はor条件であることに注意してください。

以上が、装備アイテムを１つ追加するときの手順です。
yamlファイルには複数の装備アイテムを記述できますので、与えられた情報をすべて処理するまで繰り返してください。

# 作業の際に参照すべき情報

- util/アイテム入力情報.md
作業の大元になるファイルです。
このファイルに書かれた装備アイテムをすべて読み取って
アイテム.yamlに書き起こしてください。

- util/装備部位コード.yaml
type要素に指定することが出来る値が定義されているファイルです。
ここで定義されていない値はtypeに指定できないので注意してください。

- util/発動能力コード.yaml
capabilitiesのname要素に指定することが出来る値が定義されているファイルです。
ここで定義されていない値はnameに指定できないので注意してください。
